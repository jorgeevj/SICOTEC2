<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
jorgeevj 15.09.15 Creacion.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <style>
                    .hideborder tr td{
                        border: hidden !important;
                    }
                </style>
                <title>SICOTEC</title>
            </f:facet>
        </h:head>

        <h:body>

            <p:layout fullPage="true" >

                <p:layoutUnit position="north" size="142" resizable="true" closable="true" collapsible="true">
                    <img src="../imagenes/barralogotiposervacom.png" alt=""/>
                </p:layoutUnit>

                <p:layoutUnit position="west" size="175" header="SICOTEC" collapsible="true" >
                    <p:menu style=" width: 152px"> 
                        <c:forEach var="permiso" items="#{indexMB.permisos}">
                            <p:menuitem value="#{permiso.nombre}" url="#{permiso.url}" style="background-color: background"/>
                        </c:forEach>
                    </p:menu>
                </p:layoutUnit>

                <p:layoutUnit position="center">
                    <ui:insert name="body" >
                        Bienvenido a SICOTEC

                    </ui:insert>

                </p:layoutUnit>


            </p:layout>


            <!-- DIALOG DE COTIZACIONES-->
            <p:dialog header="REGISTRAR COTIZACION" widgetVar="regCot" modal="true" rendered="true" height="450">

                <h:form id="formRegCot" >
                    <p:panelGrid id="pGridRegCot" columns="4" styleClass="hideborder">
                        <p:outputLabel value="Duracion/Dias:" for="itrc2" />
                        <p:inputText id="itrc2" value="#{cotizacionMB.camposCrear.duracion}" maxlength="2"
                                     onkeypress="if((event.which &gt; 57)^(event.which &lt; 48))return false;">
                            <f:validateDoubleRange minimum="0" maximum="15" />
                        </p:inputText>

                        <p:outputLabel value="Entregar:" for="itrc3" />
                        <p:selectOneMenu id="itrc3" value="#{cotizacionMB.camposCrear.entrega}" required="true">
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="Domicilio" itemValue="0" />
                            <f:selectItem itemLabel="Almacen" itemValue="1" />
                        </p:selectOneMenu>

                        <p:outputLabel for="choiceEmpRC" value="Empresa: "/>
                        <p:selectOneMenu id="choiceEmpRC" value="#{cotizacionMB.camposCrear.idempresa.idempresa}" 
                                         required="true" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{cotizacionMB.listaEmpresas}" var="emp" 
                                           itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>
                        </p:selectOneMenu>

                        <p:outputLabel for="almacenesRC" value="Almacen:" />
                        <p:selectOneMenu id="almacenesRC" value="#{cotizacionMB.camposCrear.idalmacen}" 
                                         valueChangeListener="#{cotizacionMB.almacenSelect}" required="true">
                            <p:ajax update="TipoitemSelect" />
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{cotizacionMB.listaAlmacenes}" var="alm" 
                                           itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                        </p:selectOneMenu>

                    </p:panelGrid>

                    <p:dataTable id="tablaTipoitem" widgetVar="tTipoitem" value="#{cotizacionMB.listaTipoItem}" var="titem"
                                 emptyMessage="No se encontraron Items" filteredValue="#{cotizacionMB.filtroTipoItem}"
                                 selectionMode="single" rowKey="#{titem.idtipoItem}" selection="#{cotizacionMB.tipoItemSelect}"
                                 scrollable="true" rows="5" >
                        <p:ajax event="rowSelect" listener="#{cotizacionMB.selectAgregarCrear}" update=":formRegCot:btnAgregarItemCot,:formRegCot:messages"/> 
                        <f:facet name="header">
                            Lista de Items
                        </f:facet>
                        <p:column headerText="Cod Item" filterBy="#{titem.idtipoItem}">
                            <h:outputText value="#{titem.idtipoItem}" />
                        </p:column>
                        <p:column headerText="Nombre" filterBy="#{titem.nombre}">
                            <h:outputText value="#{titem.nombre}" />
                        </p:column>
                        <p:column headerText="Categoria" filterBy="#{titem.idfamilia.idcategoria.nombre}">
                            <f:facet name="filter">
                                <p:selectOneMenu onchange="PF('tTipoitem').filter()" style="width:100%">
                                    <f:selectItem itemLabel="Seleccione" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cotizacionMB.listaCategoria}" var="cat"
                                                   itemLabel="#{cat.nombre}" itemValue="#{cat.nombre}" />
                                </p:selectOneMenu>
                            </f:facet>
                            <h:outputText value="#{titem.idfamilia.idcategoria.nombre}" />
                        </p:column>
                        <p:column headerText="Familia" filterBy="#{titem.idfamilia.nombre}">
                            <h:outputText value="#{titem.idfamilia.nombre}" />
                        </p:column>
                        <p:column headerText="Descripcion" filterBy="#{titem.descripcion}">
                            <h:outputText value="#{titem.descripcion}" />
                        </p:column>
                        <p:column headerText="NÂ° Parte" filterBy="#{titem.numParte}">
                            <h:outputText value="#{titem.numParte}" />
                        </p:column>
                        <p:column headerText="Marca" filterBy="#{titem.idmarca.nombre}">
                            <h:outputText value="#{titem.idmarca.nombre}" />
                        </p:column>
                        <p:column headerText="Color" filterBy="#{titem.idcolor.nombre}">
                            <h:outputText value="#{titem.idcolor.nombre}" />
                        </p:column>
                        <p:column headerText="Pecio Lista" filterBy="#{titem.precioLista}">
                            <h:outputText value="#{titem.precioLista}" />
                        </p:column>
                    </p:dataTable>

                    <p:messages id="messages" showDetail="true" closable="true" />
                    <p:panelGrid columns="2" styleClass="hideborder">
                        <p:commandButton id="btnAgregarItemCot" value="Agregar" 
                                         actionListener="#{cotizacionMB.agregarCrear}" title="Agregar" 
                                         disabled="#{cotizacionMB.btnAgregarItem}" update="TipoitemSelect,messages"/>
                        <p:commandButton id="btnQuitarItemCot" value="Quitar" 
                                         actionListener="#{cotizacionMB.quitarCrear}"
                                         disabled="#{cotizacionMB.btnQuitarItem}" update="TipoitemSelect,btnQuitarItemCot"/>

                    </p:panelGrid>
                    <p:remoteCommand name="onCellEdit" update="TipoitemSelect" />
                    <p:dataTable id="TipoitemSelect" widgetVar="tItemSelectCrea"
                                 value="#{cotizacionMB.listaCotipoItem}" var="coitem"
                                 editable="true" editMode="cell" selection="#{cotizacionMB.listaCoItemSelect}"
                                 rowKey="#{coitem.tipoitem.idtipoItem}"
                                 emptyMessage="No se encontraron Items" style="margin-bottom:0">
                        <p:ajax event="rowSelect" listener="#{cotizacionMB.selectQuitarCrear}" update=":formRegCot:btnQuitarItemCot" />
                        <p:ajax event="cellEdit" oncomplete="onCellEdit()" />
                        <f:facet name="header">
                            Lista de Items Seleccionados
                        </f:facet>
                        <p:column headerText="Cod Item" >
                            <h:outputText value="#{coitem.tipoitem.idtipoItem}" />
                        </p:column>
                        <p:column headerText="Nombre" >
                            <h:outputText value="#{coitem.tipoitem.nombre}" />
                        </p:column>
                        <p:column headerText="Stock" >
                            <h:outputText value="#{coitem.stock}" />
                        </p:column>
                        <p:column headerText="Cantidad" >
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{coitem.cantidad}" /></f:facet>
                                <f:facet name="input"><p:inputText id="modelInput" value="#{coitem.cantidad}" style="width:96%" >
                                        <f:validateDoubleRange minimum="1" maximum="1000" />
                                    </p:inputText>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        <p:column headerText="Precio U." >
                            <h:outputText value="#{coitem.precio}" />
                        </p:column>
                        <p:column headerText="Sub. Total" >
                            <h:outputText value="#{coitem.cantidad*coitem.precio}" />
                        </p:column>
                        <p:column style="width:32px;text-align: center">
                            <p:commandButton  id="btnEditPrecioCrea" icon="ui-icon-pencil" update="formPrecioCrear"
                                              title="editar" actionListener="#{cotizacionMB.openPrecioCrea}">
                               <!-- <f:setPropertyActionListener value="#{coitem}" target="#{cotizacionMB.cotipoItemSelect}" /> -->
                                <f:attribute name="myattribute" value="#{coitem}" /> 
                            </p:commandButton>
                        </p:column>
                        <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
                        <f:facet name="footer" >
                            <p:panelGrid>
                                <p:row>
                                    <p:column style="text-align: right" >
                                        Total 
                                    </p:column>
                                    <p:column style="width:161px;text-align: center">
                                        #{cotizacionMB.totalCotizacion()}
                                    </p:column>   
                                    <p:column style="width:59px;text-align: center" >
                                        $
                                    </p:column>
                                </p:row>

                            </p:panelGrid>
                        </f:facet>
                    </p:dataTable>

                    <p:panelGrid columns="4" styleClass="hideborder">
                        <p:commandButton id="btnGuardarReg" value="Guardar" 
                                         actionListener="#{cotizacionMB.guardarCrear}" 
                                         update="messages"/>
                        <p:commandButton id="btnEnviarReg" value="Enviar" actionListener="#{cotizacionMB.enviaCrear}"
                                         update="messages"/>
                        <p:commandButton id="btnAprobadaReg" value="Aprobada" 
                                         actionListener="#{cotizacionMB.aprobarCrea}" 
                                         update="formAproCrea:AproCrea,messages"/> 

                    </p:panelGrid>
                </h:form>
            </p:dialog> 

            <p:dialog header="EDITAR PRECIO" widgetVar="editItemPrecio" modal="true" rendered="true" >
                <h:form id="formPrecioCrear">
                    <p:panelGrid columns="2" styleClass="hideborder">
                        <p:outputLabel value="Precio:" for="precioEditCrea" />
                        <p:inputText id="precioEditCrea" value="#{cotizacionMB.chamgePrecioCrea}" />
                        <p:outputLabel value="Precio Unitario: Minimo #{cotizacionMB.minPrecioCrea}" />
                        <p:messages id="messages2" showDetail="true" closable="true" />
                        <p:commandButton id="btnAceptaPrecio" value="Aceptar" 
                                         actionListener="#{cotizacionMB.aceptarPrecioCrea}" 
                                         update=":formRegCot:TipoitemSelect,messages2,:formEditCot:TipoitemSelectEdit"/>
                        <p:commandButton id="btnCancelaPrecio" value="Cancelar" 
                                         actionListener="#{cotizacionMB.cerrarPrecioCrear}" 
                                         onclick="PF('editItemPrecio').hide();"/>
                    </p:panelGrid>
                </h:form>
            </p:dialog> 

            <p:dialog header="Aprobar Venta" widgetVar="aproVentaCrea" modal="true" rendered="true" >
                <h:form id="formAproCrea">
                    <p:dataTable id="AproCrea" widgetVar="aproCrea"
                                 value="#{cotizacionMB.listaCoItemSelect}" var="coitem"
                                 rowKey="#{coitem.tipoitem.idtipoItem}"
                                 emptyMessage="No se encontraron Items" style="margin-bottom:0">
                        <f:facet name="header">
                            Lista de Items Aprobados
                        </f:facet>
                        <p:column headerText="Cod Item" >
                            <h:outputText value="#{coitem.tipoitem.idtipoItem}" />
                        </p:column>
                        <p:column headerText="Nombre" > 
                            <h:outputText value="#{coitem.tipoitem.nombre}" />
                        </p:column>
                        <p:column headerText="Stock" >
                            <h:outputText value="#{coitem.stock}" />
                        </p:column>
                        <p:column headerText="Cantidad" >
                            <h:outputText value="#{coitem.cantidad}" />  
                        </p:column>
                        <p:column headerText="Precio U." >
                            <h:outputText value="#{coitem.precio}" />
                        </p:column>
                        <p:column headerText="Sub. Total" >
                            <h:outputText value="#{coitem.cantidad*coitem.precio}" />
                        </p:column>
                        <f:facet name="footer" >
                            <p:panelGrid>
                                <p:row>
                                    <p:column style="text-align: right" >
                                        Total $ 
                                    </p:column>
                                    <p:column style="width:161px;text-align: center">
                                        #{cotizacionMB.totalAprovado()}
                                    </p:column>   
                                </p:row>

                            </p:panelGrid>
                        </f:facet>
                    </p:dataTable>
                    <p:commandButton id="btnAcepApro" value="Aceptar" actionListener="#{cotizacionMB.acepAproCrear}"  />
                    <p:commandButton id="btnCancelApro" value="Cancelar" actionListener="#{cotizacionMB.cerrarAproCrear}" />
                </h:form>
            </p:dialog>

            <p:dialog header="EDITAR COTIZACION" widgetVar="editCot" modal="true" rendered="true" height="500">

                <h:form id="formEditCot" >
                    <p:panelGrid id="pGridEditCot2" columns="4" styleClass="hideborder">
                        <p:outputLabel value="Duracion/Dias:" for="itec2" />
                        <p:inputText id="itec2" value="#{cotizacionMB.cotizacionSelec.duracion}" required="true"
                                     onkeypress="if((event.which &gt; 57)^(event.which &lt; 49))return false;"/>

                        <p:outputLabel value="Entrega:" for="itec3" />
                        <p:selectOneMenu id="itec3" value="#{cotizacionMB.cotizacionSelec.entrega}" required="true">
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="Domicilio" itemValue="0" />
                            <f:selectItem itemLabel="Almacen" itemValue="1" />
                        </p:selectOneMenu>

                        <p:outputLabel for="choiceEmpEC" value="Empresa: "/>
                        <p:selectOneMenu id="choiceEmpEC" value="#{cotizacionMB.cotizacionSelec.empresaDTO.idemp}" 
                                         required="true" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{cotizacionMB.listaEmpresas}" var="emp" 
                                           itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>
                        </p:selectOneMenu>

                        <p:outputLabel for="almacenesEC" value="Almacen:" />
                        <p:selectOneMenu id="almacenesEC" value="#{cotizacionMB.cotizacionSelec.idalm}" 
                                         valueChangeListener="#{cotizacionMB.almacenSelect}" required="true">
                            <p:ajax update="TipoitemSelectEdit" />
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{cotizacionMB.listaAlmacenes}" var="alm" 
                                           itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                        </p:selectOneMenu>

                    </p:panelGrid>

                    <p:dataTable id="tablaTipoitemEdit" widgetVar="tTipoitemEdit" value="#{cotizacionMB.listaTipoItem}" var="titem"
                                 emptyMessage="No se encontraron Items" filteredValue="#{cotizacionMB.filtroTipoItem}"
                                 selectionMode="single" rowKey="#{titem.idtipoItem}" selection="#{cotizacionMB.tipoItemSelect}"
                                 scrollable="true" rows="5" >
                        <p:ajax event="rowSelect" listener="#{cotizacionMB.selectAgregarCrear}" update=":formEditCot:btnAgregarItemCotEdit,:formEditCot:messagesEdit"/> 
                        <f:facet name="header">
                            Lista de Items
                        </f:facet>
                        <p:column headerText="Cod Item" filterBy="#{titem.idtipoItem}">
                            <h:outputText value="#{titem.idtipoItem}" />
                        </p:column>
                        <p:column headerText="Nombre" filterBy="#{titem.nombre}">
                            <h:outputText value="#{titem.nombre}" />
                        </p:column>
                        <p:column headerText="Categoria" filterBy="#{titem.idfamilia.idcategoria.nombre}">
                            <f:facet name="filter">
                                <p:selectOneMenu onchange="PF('tTipoitemEdit').filter()" style="width:100%">
                                    <f:selectItem itemLabel="Seleccione" itemValue="#{null}" noSelectionOption="true" />
                                    <f:selectItems value="#{cotizacionMB.listaCategoria}" var="cat"
                                                   itemLabel="#{cat.nombre}" itemValue="#{cat.nombre}" />
                                </p:selectOneMenu>
                            </f:facet>
                            <h:outputText value="#{titem.idfamilia.idcategoria.nombre}" />
                        </p:column>
                        <p:column headerText="Familia" filterBy="#{titem.idfamilia.nombre}">
                            <h:outputText value="#{titem.idfamilia.nombre}" />
                        </p:column>
                        <p:column headerText="Descripcion" filterBy="#{titem.descripcion}">
                            <h:outputText value="#{titem.descripcion}" />
                        </p:column>
                        <p:column headerText="NÂ° Parte" filterBy="#{titem.numParte}">
                            <h:outputText value="#{titem.numParte}" />
                        </p:column>
                        <p:column headerText="Marca" filterBy="#{titem.idmarca.nombre}">
                            <h:outputText value="#{titem.idmarca.nombre}" />
                        </p:column>
                        <p:column headerText="Color" filterBy="#{titem.idcolor.nombre}">
                            <h:outputText value="#{titem.idcolor.nombre}" />
                        </p:column>
                        <p:column headerText="Pecio Lista" filterBy="#{titem.precioLista}">
                            <h:outputText value="#{titem.precioLista}" />
                        </p:column>
                    </p:dataTable>

                    <p:messages id="messagesEdit" showDetail="true" closable="true" />
                    <p:panelGrid columns="2" styleClass="hideborder">
                        <p:commandButton id="btnAgregarItemCotEdit" value="Agregar" 
                                         actionListener="#{cotizacionMB.agregarCrear}" title="Agregar" 
                                         disabled="#{cotizacionMB.btnAgregarItem}" update="TipoitemSelectEdit,messagesEdit"/>
                        <p:commandButton id="btnQuitarItemCotEdit" value="Quitar" 
                                         actionListener="#{cotizacionMB.quitarCrear}"
                                         disabled="#{cotizacionMB.btnQuitarItem}" update="TipoitemSelectEdit,btnQuitarItemCotEdit"/>

                    </p:panelGrid>
                    <p:remoteCommand name="onCellEdit2" update="TipoitemSelectEdit" />
                    <p:dataTable id="TipoitemSelectEdit" widgetVar="tItemSelectEdit"
                                 value="#{cotizacionMB.listaCotipoItem}" var="coitem"
                                 editable="true" editMode="cell" selection="#{cotizacionMB.listaCoItemSelect}"
                                 rowKey="#{coitem.tipoitem.idtipoItem}"
                                 emptyMessage="No se encontraron Items" style="margin-bottom:0">
                        <p:ajax event="rowSelect" listener="#{cotizacionMB.selectQuitarCrear}" update=":formEditCot:btnQuitarItemCotEdit" />
                        <p:ajax event="cellEdit" oncomplete="onCellEdit2()" />
                        <f:facet name="header">
                            <p:column colspan="8">
                                Lista de Items Seleccionados
                            </p:column>
                        </f:facet>
                        <p:column headerText="Cod Item" >
                            <h:outputText value="#{coitem.tipoitem.idtipoItem}" />
                        </p:column>
                        <p:column headerText="Nombre" >
                            <h:outputText value="#{coitem.tipoitem.nombre}" />
                        </p:column>
                        <p:column headerText="Stock" >
                            <h:outputText value="#{coitem.stock}" />
                        </p:column>
                        <p:column headerText="Cantidad" >
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{coitem.cantidad}" /></f:facet>
                                <f:facet name="input">
                                    <p:inputText id="modelInput" value="#{coitem.cantidad}" style="width:96%" >
                                        <f:validateDoubleRange minimum="1" maximum="1000" />
                                    </p:inputText>

                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        <p:column headerText="Precio U." >
                            <h:outputText value="#{coitem.precio}" />
                        </p:column>
                        <p:column headerText="Sub. Total" >
                            <h:outputText value="#{coitem.cantidad*coitem.precio}" />
                        </p:column>
                        <p:column style="width:32px;text-align: center">
                            <p:commandButton id="btnEditPrecioEdit" icon="ui-icon-pencil" update="formPrecioCrear"
                                             title="editar" actionListener="#{cotizacionMB.openPrecioedit}"
                                             oncomplete="PF('editItemPrecio').show()">
                                <!-- <f:setPropertyActionListener value="#{coitem}" target="#{cotizacionMB.cotipoItemSelectEdit}" /> -->
                                <f:attribute name="myattribute" value="#{coitem}" /> 
                            </p:commandButton>
                        </p:column>
                        <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
                        <f:facet name="footer" >
                            <p:panelGrid>
                                <p:row>
                                    <p:column style="text-align: right" >
                                        Total 
                                    </p:column>
                                    <p:column style="width:161px;text-align: center">
                                        #{cotizacionMB.totalCotizacion()}
                                    </p:column>   
                                    <p:column style="width:59px;text-align: center" >
                                        $
                                    </p:column>
                                </p:row>

                            </p:panelGrid>
                        </f:facet>
                    </p:dataTable>

                    <p:panelGrid columns="4" styleClass="hideborder">
                        <p:commandButton id="btnGuardarEdit" value="Guardar" 
                                         actionListener="#{cotizacionMB.GuardarEditar}" 
                                         update="messagesEdit"/>
                        <p:commandButton id="btnEnviarEdit" value="Enviar" 
                                         actionListener="#{cotizacionMB.enviaEditar}" 
                                         update="messagesEdit"/>
                        <p:commandButton id="btnAprobadaEdit" value="Aprobada" 
                                         actionListener="#{cotizacionMB.aprobarEdit}" 
                                         update="formAproEdit:AproEdit,messagesEdit"/> 
                        <p:commandButton id="btnCancelEdit" value="Cancelar" 
                                         actionListener="#{cotizacionMB.cerrarEditar}" 
                                         update="formEditCot"/>
                    </p:panelGrid>
                </h:form>

            </p:dialog>
            <p:dialog header="Aprobar Venta" widgetVar="aproVentaEdit" modal="true" rendered="true" >
                <h:form id="formAproEdit">
                    <p:dataTable id="AproEdit" widgetVar="aproEdit"
                                 value="#{cotizacionMB.listaCoItemSelect}" var="coitem"
                                 rowKey="#{coitem.tipoitem.idtipoItem}"
                                 emptyMessage="No se encontraron Items" style="margin-bottom:0">
                        <f:facet name="header">
                            Lista de Items Aprobados
                        </f:facet>
                        <p:column headerText="Cod Item" >
                            <h:outputText value="#{coitem.tipoitem.idtipoItem}" />
                        </p:column>
                        <p:column headerText="Nombre" > 
                            <h:outputText value="#{coitem.tipoitem.nombre}" />
                        </p:column>
                        <p:column headerText="Stock" >
                            <h:outputText value="#{coitem.stock}" />
                        </p:column>
                        <p:column headerText="Cantidad" >
                            <h:outputText value="#{coitem.cantidad}" />  
                        </p:column>
                        <p:column headerText="Precio U." >
                            <h:outputText value="#{coitem.precio}" />
                        </p:column>
                        <p:column headerText="Sub. Total" >
                            <h:outputText value="#{coitem.cantidad*coitem.precio}" />
                        </p:column>
                        <f:facet name="footer" >
                            <p:panelGrid>
                                <p:row>
                                    <p:column style="text-align: right" >
                                        Total $ 
                                    </p:column>
                                    <p:column style="width:161px;text-align: center">
                                        #{cotizacionMB.totalAprovado()}
                                    </p:column>   
                                </p:row>

                            </p:panelGrid>
                        </f:facet>
                    </p:dataTable>
                    <p:commandButton id="btnAcepAproEdit" value="Aceptar" actionListener="#{cotizacionMB.acepAproEditar}"  />
                    <p:commandButton id="btnCancelAproedit" value="Cancelar" actionListener="#{cotizacionMB.cerrarAproCrear}" />
                </h:form>
            </p:dialog>

            <p:dialog header="VER COTIZACION" widgetVar="verCotizacion" modal="true" rendered="true" >
                <h:form id="formVerCot">
                    <p:outputLabel value="Duracion/Dias:" for="itvc2" />
                    <p:inputText id="itvc2" value="#{cotizacionMB.cotizacionSelec.duracion}" 
                                 disabled="true"/>

                    <p:outputLabel value="Entrega:" for="itvc3" />
                    <p:selectOneMenu id="itvc3" value="#{cotizacionMB.cotizacionSelec.entrega}" disabled="true">
                        <f:selectItem itemLabel="Seleccione" itemValue="" />
                        <f:selectItem itemLabel="Domicilio" itemValue="0" />
                        <f:selectItem itemLabel="Almacen" itemValue="1" />
                    </p:selectOneMenu>

                    <p:outputLabel for="choiceEmpVC" value="Empresa: "/>
                    <p:selectOneMenu id="choiceEmpVC" value="#{cotizacionMB.cotizacionSelec.empresaDTO.idemp}" 
                                     disabled="true" >
                        <f:selectItem itemLabel="Seleccione" itemValue="" />
                        <f:selectItems value="#{cotizacionMB.listaEmpresas}" var="emp" 
                                       itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>
                    </p:selectOneMenu>

                    <p:outputLabel for="almacenesVC" value="Almacen:" />
                    <p:selectOneMenu id="almacenesVC" value="#{cotizacionMB.cotizacionSelec.idalm}" 
                                     valueChangeListener="#{cotizacionMB.almacenSelect}" disabled="true">
                        <f:selectItem itemLabel="Seleccione" itemValue="" />
                        <f:selectItems value="#{cotizacionMB.listaAlmacenes}" var="alm" 
                                       itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                    </p:selectOneMenu>


                    <p:dataTable id="tbVerCot" widgetVar="tbVerCot"
                                 value="#{cotizacionMB.listaCotipoItem}" var="coitem"
                                 emptyMessage="No se encontraron Items" style="margin-bottom:0">
                        <f:facet name="header">
                            Lista de Items de la Cotizacion
                        </f:facet>
                        <p:column headerText="Cod Item" >
                            <h:outputText value="#{coitem.tipoitem.idtipoItem}" />
                        </p:column>
                        <p:column headerText="Nombre" > 
                            <h:outputText value="#{coitem.tipoitem.nombre}" />
                        </p:column>
                        <p:column headerText="Stock" >
                            <h:outputText value="#{coitem.stock}" />
                        </p:column>
                        <p:column headerText="Cantidad" >
                            <h:outputText value="#{coitem.cantidad}" />  
                        </p:column>
                        <p:column headerText="Precio U." >
                            <h:outputText value="#{coitem.precio}" />
                        </p:column>
                        <p:column headerText="Sub. Total" >
                            <h:outputText value="#{coitem.cantidad*coitem.precio}" />
                        </p:column>

                    </p:dataTable>  
                </h:form>
            </p:dialog>   

            <!--  FIN DIALOG DE COTIZACIONES-->


            <!-- DIALOG DE MOVIMIENTOS-->

            <!-- FIN DIALOG DE MOVIMIENTOS-->


            <!-- DIALOG DE COMPRAS-->
            <p:dialog header="Agregar Compras" widgetVar="addComprasModal" modal="true" height="300" width="450">
                <h:form id="formAddCompra">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Empresa: "></p:outputLabel>
                        
                        <p:selectOneMenu id="empresasPedido" styleClass="browser-default" value="#{compraMB.idempresaNuevo}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems   value="#{compraMB.sessionBeanCompra.listaEmpresaAdd}"  var="emp" 
                                             itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>    
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="Almacen: "></p:outputLabel>
                        <p:selectOneMenu id="almacenesCompra" styleClass="browser-default" value="#{compraMB.idalmacenNuevo}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{compraMB.sessionBeanCompra.listaAlmacenesAdd}" var="alm" 
                                           itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                        </p:selectOneMenu>
                    </h:panelGrid>
                    <br/>
                    <p:commandButton value="Agregar Pedidos" actionListener="#{compraMB.getAlmacenForPedidoForItems}"/>
                    <br/><br/><br/>
                    <p:commandButton id="agrNuevoCompra" value="Agregar" actionListener="#{compraMB.addNuevoCompra}" />
                </h:form>
            </p:dialog> 
        
        
            <p:dialog header="Agregar Pedidos" widgetVar="addPedidosItemsModal" modal="true" height="500" width="700"> 
                <h:form id="formAddPedidoss">
                    <p:outputLabel value="Pedidos Disponibles "></p:outputLabel>
                    <p:dataTable var="tPealtipoitem" value="#{compraMB.listPealItem}"  id="tbPedidosItemsDisp"
                                 selectionMode="single" selection="#{compraMB.objPealTipoItem}" rowKey="#{tPealtipoitem.cantidad}"  >
                        <p:ajax event="rowSelect" listener="#{compraMB.selectTipoItemAdd}" /> 
                        <p:column headerText="Item" style="text-align: center">
                            <p:outputLabel value="#{tPealtipoitem.nombreItems}"/>
                        </p:column>
                        <p:column headerText="Cantidad" style="text-align: center">
                            <p:outputLabel value="#{tPealtipoitem.cantidad}"/>
                        </p:column>
                        <p:column headerText="Costo Unitario" style="text-align: center">
                            <p:outputLabel value="#{tPealtipoitem.costoUni}"/>
                        </p:column>
                       
                    </p:dataTable>
                    <br/>

                
                    <p:commandButton id="btnAceptarPedido"  value="Agregar Pedido"  actionListener="#{compraMB.agregarTipoItems}" />
                <br/><br/><br/><br/>
                <p:outputLabel value="Compra Seleccionados "></p:outputLabel>
                <p:dataTable tableStyleClass="table table-hover" var="pealtipoitem" id="tbPedidosItemsSelec" value="#{compraMB.listaPealTipoItemSelct}" editable="true"
                             editMode="cell" selection="#{compraMB.objPealTipoItemQuitar}" selectionMode="single"  rowKey="#{pealtipoitem.cantidad}">
                     <p:ajax event="rowSelect" listener="#{compraMB.selectTipoItemQuitar}" /> 
                        <p:column headerText="Item" style="text-align: center">
                        <p:outputLabel value="#{pealtipoitem.nombreItems}"/>
                        </p:column>
                        <p:column headerText="Cantidad Pedida" style="text-align: center">
                            <p:outputLabel value="#{pealtipoitem.cantidad}"/>
                        </p:column>
                        <p:column headerText="Costo Unitario" style="text-align: center">
                        <p:outputLabel value="#{pealtipoitem.costoUni}"/>
                        </p:column>
                     <p:column headerText="Cantidad" >
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{pealtipoitem.cantidad}" /></f:facet>
                                <f:facet name="input"><p:inputText id="modelInput" value="#{pealtipoitem.cantidad}" style="width:96%" >
                                        <f:validateDoubleRange minimum="1" maximum="1000" />
                                    </p:inputText>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                     
                     <p:column headerText="Unidad Medida">
                       <p:cellEditor>
                           <f:facet name="output"><h:outputText value="#{compraMB.loteSelec.idunidades}" /></f:facet>
                           <f:facet name="input">
                               <h:selectOneMenu value="#{compraMB.loteSelec}" style="width:100%">
                                   <f:selectItems value="#{compraMB.listaUnidad}" var="uni" 
                                                  itemLabel="#{uni.nombre}" itemValue="#{uni.idunidades}" />
                               </h:selectOneMenu>
                           </f:facet>
                       </p:cellEditor>
                   </p:column>
                     
                     
                        <p:column headerText="Total" style="text-align: center">
                            <p:outputLabel value="#{pealtipoitem.total}"/>
                        </p:column>

                </p:dataTable>
                <br/>
                <p:commandButton id="btnQuitarPedido"  value="Quitar Pedido" actionListener="#{compraMB.quitarPedido}"/>
                <br/><br/><br/>
                <p:commandButton value="Aceptar" onclick="PF('addPedidosItemsModal').hide();"/>
            </h:form>
        </p:dialog>
            <!-- FIN DIALOG DE COMPRAS-->


            <!-- DIALOG DE PEDIDOS-->
            <p:dialog header="Agregar Pedidos" widgetVar="addPedidosModal" modal="true" resizable="true">
                <h:form id="formAddPedido">
                    <p:growl showDetail="true" sticky="true" id="msnRegistrar"/>
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Empresa: "></p:outputLabel>
                        <p:selectOneMenu id="empresasPedido" styleClass="browser-default" value="#{pedidoMB.empresaAdd}">
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems value="#{pedidoMB.listaEmpresaAdd}" var="emp" 
                                           itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>
                        </p:selectOneMenu>
                        <p:outputLabel value="Almacen: "></p:outputLabel>
                        <p:selectOneMenu id="almacenesPedido" styleClass="browser-default" value="#{pedidoMB.almacenAdd}">
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems value="#{pedidoMB.listaAlmacenesAdd}" var="alm" 
                                           itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                        </p:selectOneMenu>
                    </h:panelGrid>
                    <p:commandButton value="Agregar Items" onclick="PF('addItemsPedidosModal').show();"/>
                    <br/><br/><br/>
                    <p:commandButton value="Agregar" actionListener="#{pedidoMB.addNuevoPedido}" update="msnRegistrar"/>
                </h:form>
            </p:dialog> 

            <p:dialog header="Agregar Items" widgetVar="addItemsPedidosModal" modal="true" rendered="true" height="500" width="700"> 
                <p:outputLabel value="Items Disponibles "></p:outputLabel>
                <h:form id="formAddItems">
                    <p:growl showDetail="true" sticky="true" id="msjAgregar"></p:growl>
                    <p:dataTable tableStyleClass="table table-hover"  id="tabItemsAdd" value="#{pedidoMB.listaItemsDisponibles}" var="tItemsDisp" 
                                 selectionMode="single" selection="#{pedidoMB.objTipoItem}" rowKey="#{tItemsDisp.nombre}">
                        <p:ajax event="rowSelect" listener="#{pedidoMB.selectTipoItemAdd}" /> 
                        <p:column headerText="Nombre" style="text-align: center">
                            <p:outputLabel value="#{tItemsDisp.nombre}"/>
                        </p:column>
                        <p:column headerText="Tipo" style="text-align: center">
                            <p:outputLabel value="#{tItemsDisp.tipo}"/>
                        </p:column>
                        <p:column headerText="Precio Lista" style="text-align: center">
                            <p:outputLabel value="#{tItemsDisp.precioLista}"/>
                        </p:column>
                    </p:dataTable>
                    <p:commandButton value="Agregar Item" actionListener="#{pedidoMB.agregarTipoItem}" disabled="#{pedidoMB.disableAgregarItemAdd}" update="msjAgregar"/>
                </h:form>
                <p:outputLabel value="Items Seleccionados "></p:outputLabel>
                <h:form id="formTbSelec">
                    <p:growl showDetail="true" sticky="true" id="msjQuitar"></p:growl>
                    <p:dataTable tableStyleClass="table table-hover"  id="tabItemsSelected" value="#{pedidoMB.listaItemsSeleccionado}" var="tItemsSelec" 
                                 selectionMode="single" selection="#{pedidoMB.objTipoItemQuitar}" rowKey="#{tItemsSelec.nombre}">
                        <p:ajax event="rowSelect" listener="#{pedidoMB.selectTipoItemQuitar}"/> 
                        <p:column headerText="Nombre" style="text-align: center">
                            <p:outputLabel value="#{tItemsSelec.nombre}"/>
                        </p:column>
                        <p:column headerText="Tipo" style="text-align: center">
                            <p:outputLabel value="#{tItemsSelec.tipo}"/>
                        </p:column>
                        <p:column headerText="Precio Lista" style="text-align: center">
                            <p:outputLabel value="#{tItemsSelec.precioLista}"/>
                        </p:column>
                        <p:column headerText="Cantidad" style="text-align: center">
                            <p:outputLabel value="#{tItemsSelec.cantidad}"/>
                        </p:column>
                    </p:dataTable>
                    <p:commandButton value="Quitar Item" actionListener="#{pedidoMB.quitarTipoItem}" disabled="#{pedidoMB.disableQuitarItemAdd}" update="msjQuitar"/>
                </h:form>
                <br/><br/><br/>
                <p:commandButton value="Aceptar" onclick="PF('addItemsPedidosModal').hide();"/>
            </p:dialog>

            <p:dialog header="Agregar Cantidad" widgetVar="addCantidad" modal="true" resizable="false">
                <h:form id="formCantidadItem">
                    <p:growl showDetail="true" sticky="true" id="msnCantidad"/>
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Cantidad"></p:outputLabel>
                        <p:inputText value="#{pedidoMB.cantidadAdd}"/>
                    </h:panelGrid>
                    <p:commandButton value="Aceptar" actionListener="#{pedidoMB.agregarCantidad}" update="msnCantidad"/>
                </h:form>
            </p:dialog>

            <p:dialog header="Editar Pedido" widgetVar="editPedidoModal" modal="true" resizable="false">
                <h:form id="formEditPedido">
                    <p:growl showDetail="true" sticky="true" id="msnEditar"/>
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Empresa: "></p:outputLabel>
                        <p:selectOneMenu id="empresasPedido" styleClass="browser-default" value="#{pedidoMB.empresasEdit}" disabled="false" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems value="#{pedidoMB.listaEmpresaEdit}" var="emp" 
                                           itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>
                        </p:selectOneMenu>
                        <p:outputLabel value="NÂ° de Serie "></p:outputLabel>
                        <p:inputText   value="#{pedidoMB.serieEdit}" disabled="true"/>
                        <p:outputLabel value="Correlativo: "></p:outputLabel>
                        <p:inputText   value="#{pedidoMB.correlativEdit}" disabled="true"/>
                        <p:outputLabel value="Almacen: "></p:outputLabel>
                        <p:selectOneMenu id="almacenesPedido" styleClass="browser-default" value="#{pedidoMB.almacenEdit}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems value="#{pedidoMB.listaAlmacenesEdit}" var="alm" 
                                           itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                        </p:selectOneMenu>
                        <p:commandButton value="Ver Items" actionListener="#{pedidoMB.abrirModalAgregarItemsEdit}"/>
                    </h:panelGrid>
                    <p:commandButton value="Editar" actionListener="#{pedidoMB.editarPedido}" update="msnEditar"/>
                </h:form>
            </p:dialog>

            <p:dialog header="Ver Items" widgetVar="verItemsEdit" modal="true" rendered="true" height="500" width="700"> 
                <p:outputLabel value="Items del pedido"></p:outputLabel>
                <h:form id="formItemsPedido">
                    <p:dataTable tableStyleClass="table table-hover"  id="tabItemsPedido" value="#{pedidoMB.listaItemsPedido}" var="tItemsPedido" 
                                 editable="true" editMode="cell"
                                 selectionMode="single" selection="#{pedidoMB.objPealTipoEdit}" rowKey="#{tItemsPedido.cantidad}">
                        <p:ajax event="rowSelect" listener="#{pedidoMB.selectPealTipoItemEditar}"/> 
                        <p:column headerText="Nombre" style="text-align: center">
                            <p:outputLabel value="#{tItemsPedido.nombreItems}"/>
                        </p:column>
                        <p:column headerText="Cantidad" style="text-align: center">
                            <p:cellEditor>
                                <f:facet name="output"><h:outputLabel value="#{tItemsPedido.cantidad}"/></f:facet>
                                <f:facet name="input">
                                    <p:inputText value="#{tItemsPedido.cantidad}" style="width:96%">
                                        <f:validateDoubleRange minimum="1" maximum="1000" />
                                    </p:inputText>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                        <p:column headerText="Costo Unitario" style="text-align: center">
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{tItemsPedido.costoUni}" /></f:facet>
                                <f:facet name="input">
                                    <p:inputText value="#{tItemsPedido.costoUni}" style="width:96%">
                                        <f:validateDoubleRange minimum="1" maximum="10000" />
                                    </p:inputText>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>
                    </p:dataTable>
                    <p:commandButton value="Quitar Item" actionListener="#{pedidoMB.quitarPealTipoItem}" disabled="#{pedidoMB.disableQuitarItemEdit}"/>
                </h:form>
                <br/><br/><br/>
                <p:commandButton value="Aceptar" onclick="PF('verItemsEdit').hide();"/>
            </p:dialog>
        
            <p:dialog header="Ver Items" widgetVar="verItemsPeadido" modal="true" rendered="true" height="500" width="700"> 
                <p:outputLabel value="Items del pedido"></p:outputLabel>
                <h:form id="formTbAllItems">
                    <p:dataTable tableStyleClass="table table-hover"  id="tabAllItemsPedido" value="#{pedidoMB.listaAllItemsPedido}" var="tItemsPedido" 
                                 editable="true" editMode="cell"
                                 selectionMode="single" selection="#{pedidoMB.objPealTipoEdit}" rowKey="#{tItemsPedido.cantidad}">
                        <p:column headerText="Item" style="text-align: center">
                            <p:outputLabel value="#{tItemsPedido.nombreItems}"/>
                        </p:column>
                        <p:column headerText="Cantidad" style="text-align: center">
                            <p:outputLabel value="#{tItemsPedido.cantidad}"/>
                        </p:column>
                        <p:column headerText="Costo Unitario" style="text-align: center">
                            <p:outputLabel value="#{tItemsPedido.costoUni}"/>
                        </p:column>
                        <p:column headerText="Estado" style="text-align: center">
                            <p:outputLabel value="#{tItemsPedido.nombreEstado}"/>
                        </p:column>
                    </p:dataTable>
                </h:form>
                <br/><br/><br/>
                <p:commandButton value="Aceptar" onclick="PF('verItemsPeadido').hide();"/>
            </p:dialog>
        
            <!-- FIN DIALOG DE PEDIDOS-->



        <!-- DIALOG DE TIPOITEM-->
        <p:dialog header="Registrar Item" widgetVar="registrarItem" minHeight="40" height="500" width="880" modal="true">


                <h:form id="formRegistrar">

                    <h:panelGrid columns="4"  id="panelRegistrarItem">

                        <p:outputLabel value="Cod. Item:" for="codigoItem"/>                            
                        <p:inputText id="codigoItem" value="#{tipoitemMB.codigoItem}"/>

                        <p:outputLabel value="Nombre Item:" for="nombreItem"/>                            
                        <p:inputText id="nombreItem" value="#{tipoitemMB.nombre}"/>

                        <p:outputLabel value="Num. Parte:" for="numParteItem"/>                            
                        <p:inputText id="numParteItem" value="#{tipoitemMB.numParte}"/>

                        <p:outputLabel value="Descripcion:" for="descripcionItem"/>                            
                        <p:inputText id="descripcionItem" value="#{tipoitemMB.descripcion}"/>

                        <p:outputLabel value="Tipo" for="tipoItem"/>                            
                        <p:inputText id="tipoItem" value="#{tipoitemMB.tipo}"/>

                        <p:outputLabel value="Precio:" for="precioItem"/>                            
                        <p:inputText id="precioItem" value="#{tipoitemMB.precio}"/>


                    <p:outputLabel value="Dsco. Cliente: %" for="dsctClienteItem"/>                            
                    <p:inputText id="dsctClienteItem" value="#{tipoitemMB.dsctoCliente}"/>                      



                    <p:outputLabel value="Dsco. Distribuidor: %" for="dsctDistribuidorItem" style="width:96%"/>                            
                    <p:inputText id="dsctDistribuidorItem" value="#{tipoitemMB.dsctoDistribuidor}"/>





                    <p:outputLabel value="Familia:" for="familiaItem"/>                            
                    <p:selectOneMenu id="familiaItem" styleClass="browser-default" value="#{tipoitemMB.familiaSelect}" style="width:96%"  >
                        <f:selectItem itemLabel="Seleccione familia..." itemValue="0" />
                        <f:selectItems value="#{tipoitemMB.listaFamilia}" var="nomFamilia" 
                                       itemValue="#{nomFamilia.idfamilia}" itemLabel="#{nomFamilia.nombre}"/>
                    </p:selectOneMenu>                        



                    <p:outputLabel value="Marca:" for="marcaItem"/>                            
                    <p:selectOneMenu id="marcaItem" styleClass="browser-default" value="#{tipoitemMB.marcaSelect}" style="width:96%" >
                        <f:selectItem itemLabel="Seleccione marca..." itemValue="0" />
                        <f:selectItems value="#{tipoitemMB.listaMarca}" var="nomMarca" 
                                       itemValue="#{nomMarca.idmarca}" itemLabel="#{nomMarca.nombre}"/>
                    </p:selectOneMenu>
                    <p:outputLabel value="Color:" for="colorItem"/>                            
                    <p:selectOneMenu id="colorItem" styleClass="browser-default" value="#{tipoitemMB.colorSelect}" style="width:96%" >
                        <f:selectItem itemLabel="Seleccione color..." itemValue="0" />
                        <f:selectItems value="#{tipoitemMB.listaColor}" var="nomColor" 
                                       itemValue="#{nomColor.idcolor}" itemLabel="#{nomColor.nombre}"/>
                    </p:selectOneMenu>

                    </h:panelGrid>
                    <br/>
                    <br/>
                
                    <h:panelGrid columns="4"  id="panel2">

                    <p:outputLabel value="CaracterÃ­sticas:" for="caracteristicasItem"/>                            
                    <p:selectOneMenu id="caracteristicasItem" styleClass="browser-default" value="#{tipoitemMB.caracteristicaSelect}" >
                        <f:selectItem itemLabel="Seleccione caracterÃ­stica..." itemValue="0" />
                        <f:selectItems value="#{tipoitemMB.listaCaracteristicas}" var="nomCaracteristica" 
                                       itemValue="#{nomCaracteristica.idcaracteristica}" itemLabel="#{nomCaracteristica.nombre}"/>
                    </p:selectOneMenu>
                
                <p:commandButton value="Agregar" actionListener="#{tipoitemMB.listarTablaCaracteristicas}" update="formRegistrar:panel2,tabla2"/> 
                <p:commandButton value="Quitar" id="btnQuitarCaracteristicaR" actionListener="#{tipoitemMB.quitarElementosTablaCaracteristicas}" 
                                 update="formRegistrar:panel2,tabla2" disabled="#{tipoitemMB.btnQuitarEstado}"/> 
                </h:panelGrid>
                <p:dataTable id="tabla2" value="#{tipoitemMB.lista2}" var="tite" selectionMode="single" 
                             rowKey="#{tite.idcaracteristica}" 
                             scrollable="true" rows="5" selection="#{tipoitemMB.caracteristicasTablaSelect}"> 
                    <p:ajax event="rowSelect" listener="#{tipoitemMB.onRowSelectCaracteristica(event)}" update="formRegistrar:btnQuitarCaracteristicaR" />
                    <f:facet name="header">
                            Lista de Caracteristicas
                        </f:facet>
                    <p:column headerText="Nombre">
                        <h:outputText value="#{tite.nombre}" />
                    </p:column> 
                    <p:column headerText="Descripcion">
                        <h:outputText value="#{tite.descripcion}" />
                    </p:column> 
                </p:dataTable>

                <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                
                <p:commandButton value="Crear una nueva caracterÃ­stica"  actionListener="#{tipoitemMB.registrarCaracteristica}"/>
                <p:commandButton value="Crear una nueva marca"  actionListener="#{tipoitemMB.registrarMarca}" />

                
                <br/>
                <br/>
                <h:panelGrid columns="2"  >


                    <p:commandButton  value="Registrar nuevo Item" actionListener="#{tipoitemMB.registrarNuevoTipoItem}" />
                <p:commandButton  value="Cancelar" update="formRegistrar:panelRegistrarItem" onclick="PF('registrarItem').hide();" />
                </h:panelGrid>

                </h:form>

                <!-- CREAR NUEVA CARACTERISTICA -->
            </p:dialog>


        <p:dialog header="Crear CaracterÃ­stica" widgetVar="crearCaraItem" minHeight="40" height="150" width="700" modal="true">
            <h:form>
                <h:panelGrid columns="2" id="ee">


                        <p:outputLabel value="Nombre:" for="nombreCaracteristica"/>                            
                        <p:inputText id="nombreCaracteristica" value="#{tipoitemMB.nombreCaracteristica}"/>  
                        <p:outputLabel value="Descripcion:" for="descripCaracteristica"/>                            
                        <p:inputText id="descripCaracteristica" value="#{tipoitemMB.descripcionCaracteristica}"/>  
                    <p:messages id="messages2" showDetail="true" autoUpdate="true" closable="true" />

                    <p:commandButton  value="Crear nueva caracteristica" 
                                      actionListener="#{tipoitemMB.registrarNuevaCaracteristica}"  
                                      update="formRegistrar:panel2"/>
                    
                </h:panelGrid>        
            </h:form>

        </p:dialog>
        
        <p:dialog header="Crear CaracterÃ­stica" widgetVar="crearCaraItemMod" minHeight="40" height="150" width="700" modal="true">
            <h:form>
                <h:panelGrid columns="2" id="ee">


                    <p:outputLabel value="Nombre:" for="nombreCaracteristica"/>                            
                    <p:inputText id="nombreCaracteristica" value="#{tipoitemMB.nombreCaracteristica}"/>  
                    <p:outputLabel value="Descripcion:" for="descripCaracteristica"/>                            
                    <p:inputText id="descripCaracteristica" value="#{tipoitemMB.descripcionCaracteristica}"/>  
                    <p:messages id="messages3" showDetail="true" autoUpdate="true" closable="true" />
                    <p:commandButton  value="Crear nueva caracteristica" 
                                      actionListener="#{tipoitemMB.registrarNuevaCaracteristica}"  
                                      update="formModificarTipoItem:panelModTipoItem" />
                </h:panelGrid>        
            </h:form>


            </p:dialog>

            <!-- CREAR NUEVA MARCA -->

        <p:dialog header="Crear Marca" widgetVar="crearMarcaItem" minHeight="40" height="200" width="420" modal="true">
            <h:form>
                <h:panelGrid columns="2">




                    <p:outputLabel value="Nombre:" for="nomCrearMarcaItem"/>                            
                    <p:inputText id="nomCrearMarcaItem" value="#{tipoitemMB.nombreMarca}" style="width: 70%"/> 
                    <p:outputLabel value="Formato:" for="formatoCrearMarcaItem"/>                            
                    <p:inputText id="formatoCrearMarcaItem" value="#{tipoitemMB.formatoMarca}" style="width: 70%"/> 



                    <p:messages id="messages4" showDetail="true" autoUpdate="true" closable="true" />
                    <p:commandButton  value="Crear Marca" actionListener="#{tipoitemMB.registrarNuevaMarca}" 
                                      update="formRegistrar:panelRegistrarItem" />
                </h:panelGrid> 
            </h:form>
        </p:dialog>
            
        <p:dialog header="Crear Marca" widgetVar="crearMarcaItemMod" minHeight="40" height="200" width="420" modal="true">
            <h:form>
                <h:panelGrid columns="2">



                    <p:outputLabel value="Nombre:" for="nomCrearMarcaItem"/>                            
                    <p:inputText id="nomCrearMarcaItem" value="#{tipoitemMB.nombreMarca}" style="width: 70%"/> 
                    <p:outputLabel value="Formato:" for="formatoCrearMarcaItem"/>                            
                    <p:inputText id="formatoCrearMarcaItem" value="#{tipoitemMB.formatoMarca}" style="width: 70%"/> 

                    <p:messages id="messages5" showDetail="true" autoUpdate="true" closable="true" />

                    <p:commandButton  value="Crear Marca" actionListener="#{tipoitemMB.registrarNuevaMarca}" 
                                      update="formModificarTipoItem:panel3" />
                </h:panelGrid> 
            </h:form>
        </p:dialog>


            <!-- MODIFICAR TIPOITEM -->


            <p:dialog header="Modificar Item" widgetVar="modificarItem" minHeight="40" height="500" width="1300" modal="true">



            <h:form id="formModificarTipoItem">
                <h:panelGrid columns="6" id="panelModTipoItem">



                    <p:outputLabel value="Cod. Item:" for="codigoItem"/>                            
                    <p:inputText id="codigoItem" value="#{tipoitemMB.tipoItemSelect.idtipoItem}" disabled="true"/>


                        <p:outputLabel value="Nombre Item:" for="nombreItem"/>                            
                        <p:inputText id="nombreItem" value="#{tipoitemMB.tipoItemSelect.nombre}"/>

                        <p:outputLabel value="Num. Parte:" for="numParteItem"/>                            
                        <p:inputText id="numParteItem" value="#{tipoitemMB.tipoItemSelect.numParte}"/>

                        <p:outputLabel value="Descripcion:" for="descripcionItem"/>                            
                        <p:inputText id="descripcionItem" value="#{tipoitemMB.tipoItemSelect.descipcion}"/>

                        <p:outputLabel value="Tipo" for="tipoItem"/>                            
                        <p:inputText id="tipoItem" value="#{tipoitemMB.tipoItemSelect.tipo}"/>

                        <p:outputLabel value="Precio:" for="precioItem"/>                            
                        <p:inputText id="precioItem" value="#{tipoitemMB.tipoItemSelect.precioLista}"/>


                    <p:outputLabel value="Dsco. Cliente: %" for="dsctClienteItem"/>                            

                        <p:inputText id="dsctClienteItem" value="#{tipoitemMB.tipoItemSelect.desCliente}"/>                      


                    <p:outputLabel value="Dsco. Distribuidor: %" for="dsctDistribuidorItem"/>                            

                        <p:inputText id="dsctDistribuidorItem" value="#{tipoitemMB.tipoItemSelect.desDistribuidor}"/>


                    <p:outputLabel value="Marca:" for="marcaItem"/>                            
                    <p:selectOneMenu id="marcaItem" styleClass="browser-default" value="#{tipoitemMB.tipoItemSelect.marca.idmarca}" >
                        <f:selectItem itemLabel="Seleccione marca..." itemValue="0" />
                        <f:selectItems value="#{tipoitemMB.listaMarca}" var="nomMarca" 
                                       itemValue="#{nomMarca.idmarca}" itemLabel="#{nomMarca.nombre}"/>
                    </p:selectOneMenu>
                    
                        <p:outputLabel value="Familia:" for="familiaItem"/>                            
                    <p:selectOneMenu id="familiaItem" styleClass="browser-default" value="#{tipoitemMB.tipoItemSelect.familia.idfamilia}" style="width:90%" >
                        <f:selectItem itemLabel="Seleccione familia..." itemValue="0" />
                        <f:selectItems value="#{tipoitemMB.listaFamilia}" var="nomFamilia" 
                                       itemValue="#{nomFamilia.idfamilia}" itemLabel="#{nomFamilia.nombre}" />
                    </p:selectOneMenu>

                        <p:outputLabel value="CategorÃ­a:" for="categoriaItem"/>                           

                    <p:selectOneMenu id="categoriaItem" styleClass="browser-default" value="#{tipoitemMB.tipoItemSelect.categoria.idcategoria}" disabled="true">
                        <f:selectItem itemLabel="Seleccione categorÃ­a..." itemValue="0" />
                        <f:selectItems value="#{tipoitemMB.listaCategoria}" var="nomCategoria" 
                                       itemValue="#{nomCategoria.idcategoria}" itemLabel="#{nomCategoria.nombre}"/>
                    </p:selectOneMenu>


                    
                    <p:outputLabel value="Color:" for="colorItem"/>                            
                    <p:selectOneMenu id="colorItem" styleClass="browser-default" value="#{tipoitemMB.tipoItemSelect.color.idcolor}" >
                        <f:selectItem itemLabel="Seleccione color..." itemValue="0" />
                        <f:selectItems value="#{tipoitemMB.listaColor}" var="nomColor" 
                                       itemValue="#{nomColor.idcolor}" itemLabel="#{nomColor.nombre}"/>
                    </p:selectOneMenu>

                    <br/>
                    <br/>
                    </h:panelGrid>
                <h:panelGrid columns="4" id="panel3">
                        <p:outputLabel value="CaracterÃ­sticas:" for="caracteristicasItem2"/>                            
                        <p:selectOneMenu id="caracteristicasItem2" styleClass="browser-default" value="#{tipoitemMB.caracteristicaSelect}" >
                            <f:selectItem itemLabel="Seleccione caracterÃ­stica..." itemValue="0" />
                            <f:selectItems value="#{tipoitemMB.listaCaracteristicas}" var="nomCaracteristica" 
                                           itemValue="#{nomCaracteristica.idcaracteristica}" itemLabel="#{nomCaracteristica.nombre}"/>
                        </p:selectOneMenu>


                    
                    
                    <p:commandButton value="Agregar" actionListener="#{tipoitemMB.listarTablaCaracteristicas}" update="formModificarTipoItem:panel3,tabla3"/> 
                     <p:commandButton value="Quitar" id="btnquitarCara" actionListener="#{tipoitemMB.quitarElementosTablaCaracteristicas}" 
                                      update="formModificarTipoItem:panel3,tabla3" disabled="#{tipoitemMB.btnQuitarEstado}"/>  
                    </h:panelGrid>

                    <p:dataTable id="tabla3" value="#{tipoitemMB.lista2}" var="titee" selectionMode="single"
                                 rowKey="#{titee.idcaracteristica}" scrollable="true" rows="5" selection="#{tipoitemMB.caracteristicasTablaSelect}"> 
                        <p:ajax event="rowSelect" listener="#{tipoitemMB.onRowSelectCaracteristica(event)}" update="formModificarTipoItem:btnquitarCara" />
                        <f:facet name="header">
                            Lista de Caracteristicas
                        </f:facet>
                        <p:column headerText="Nombre">
                            <h:outputText value="#{titee.nombre}"/>
                        </p:column>
                        <p:column headerText="Descripcion">
                            <h:outputText value="#{titee.descripcion}"/>
                        </p:column>
                        
                    </p:dataTable>

                   
                    <p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
                    <p:commandButton value="Crear una nueva caracterÃ­stica"  actionListener="#{tipoitemMB.registrarCaracteristicaMod}" />
                    <p:commandButton value="Crear una nueva marca"  actionListener="#{tipoitemMB.registrarMarcaMod}" />
                    <br/>
                    <br/>
                    <h:panelGrid columns="2" >
                    <p:commandButton  value="Modificar Item" actionListener="#{tipoitemMB.modificarTipoItem}"/>

                    <p:commandButton  value="Cancelar" update="formModificarTipoItem:panelModTipoItem" onclick="PF('modificarItem').hide();"/>
                    </h:panelGrid>
            </h:form>


            </p:dialog>

            <!-- FIN DIALOG DE TIPOITEM-->


            <!-- DIALOG DE EMPRESAS-->

            <p:dialog header="REGISTRAR EMPRESA" widgetVar="dlRegEmpresa" modal="true" rendered="true" width="720" height="480">
                <h:form id="formRegEmp">
                    <p:panelGrid columns="4" styleClass="hideborder">
                        <p:outputLabel value="Nombre: " for="itEmp1" />
                        <p:inputText id="itEmp1" value="#{empresaMB.consultaEmpresaDTO.nombre}" />
                        <p:outputLabel value="RUC: " for="itEmp2"/>
                        <p:inputText id="itEmp2" value="#{empresaMB.consultaEmpresaDTO.ruc}" />
                        <p:outputLabel value="Email: " for="itEmp3"/>
                        <p:inputText id="itEmp3" value="#{empresaMB.consultaEmpresaDTO.email}" />
                        
                    </p:panelGrid>
                    <p:selectManyCheckbox id="chkTipoEmp" value="#{empresaMB.selectTipoEmp}" >
                        <f:selectItems value="#{empresaMB.tipoEmp}" 
                                       var="ti" itemLabel="#{ti.nombre}" itemValue="#{ti.idtipo}" />
                    </p:selectManyCheckbox>
                    <p:messages id="messages3" showDetail="true" closable="true" />
                    <p:commandButton id="btnAgreReprReg" value="Agregar" icon="ui-icon-plusthick"
                                     actionListener="#{empresaMB.btnAgreReprReg}" />
                    <p:commandButton id="btnQuitReprReg" value="Quitar" icon="ui-icon-minusthick"
                                     actionListener="#{empresaMB.btnQuitReprReg}" />
                   <p:dataTable id="tabRepresEmp" var="ep" value="#{empresaMB.listaEmpPersona}"
                                selectionMode="single" rowKey="#{ep.persona.idpersona}" 
                                selection="#{empresaMB.empPersonaSelectDTO}" emptyMessage="Agrege representantes"
                         scrollable="true" scrollHeight="75">
                <f:facet name="header">
                    Lista de Representantes
                </f:facet>
                <p:column headerText="Nombre" >
                    <h:outputText value="#{ep.persona.nombre}" />
                </p:column>
                <p:column headerText="Apellido">
                    <h:outputText value="#{ep.persona.apellido}" />
                </p:column>
                <p:column headerText="DNI">
                    <h:outputText value="#{ep.persona.dni}" />
                </p:column>
                <p:column headerText="Email">
                    <h:outputText value="#{ep.persona.email}" />
                </p:column>
            </p:dataTable>
                    <p:commandButton id="btnAgreUbiReg" value="Agregar" icon="ui-icon-plusthick"
                                     actionListener="#{empresaMB.btnAgreUbiReg}" />
                    <p:commandButton id="btnQuitUbiReg" value="Quitar" icon="ui-icon-minusthick"
                                     actionListener="#{empresaMB.btnQuitUbiReg}" />
                    <p:dataTable id="tabUbiEmp" var="ub" value="#{empresaMB.listaUbicEmp}"
                                 selectionMode="single" rowKey="#{ub.idubicacion}" 
                                 selection="#{empresaMB.ubicEmpSelectDTO}" emptyMessage="Agrege Ubicaciones"
                         scrollable="true" scrollHeight="75">
                <f:facet name="header">
                    Lista de Ubicaciones
                </f:facet>
                <p:column headerText="Direccion" >
                    <h:outputText value="#{ub.nombre}" />
                </p:column>
                <p:column headerText="Numero">
                    <h:outputText value="#{ub.numero}" />
                </p:column>
                <p:column headerText="Distrito">
                    <h:outputText value="#{ub.dist}" />
                </p:column>
                <p:column headerText="Provincia">
                    <h:outputText value="#{ub.prov}" />
                </p:column>
                <p:column headerText="Departamento">
                    <h:outputText value="#{ub.dept}" />
                </p:column>
            </p:dataTable>
                    
                     <p:commandButton id="btnAgreTelReg" value="Agregar" icon="ui-icon-plusthick"
                                     actionListener="#{empresaMB.btnAgreTelReg}" />
                    <p:commandButton id="btnQuitTelReg" value="Quitar" icon="ui-icon-minusthick"
                                     actionListener="#{empresaMB.btnQuitTelReg}" />
                    <p:dataTable id="tabTelEmp" var="tel" value="#{empresaMB.listaTelEmp}"
                                 selectionMode="single" rowKey="#{tel.idtelefono}" 
                                 selection="#{empresaMB.telEmpSelectDTO}" emptyMessage="Agrege Telefonos"
                         scrollable="true" scrollHeight="75">
                <f:facet name="header">
                    Lista de Telefonos
                </f:facet>
                <p:column headerText="Operador" >
                    <h:outputText value="#{tel.operador}" />
                </p:column>
                <p:column headerText="Numero">
                    <h:outputText value="#{tel.numero}" />
                </p:column>
                <p:column headerText="Tipo">
                    <h:outputText value="#{tel.tipo}" />
                </p:column>
            </p:dataTable>
                    
                    <p:panelGrid columns="2" styleClass="hideborder">
                    <p:commandButton id="btnGuardarEmp" value="Aceptar" 
                                     actionListener="#{empresaMB.btnGuardarEmpresa}" />
                    <p:commandButton id="btnLimpiarRegEmp" value="Limpiar" 
                                     actionListener="#{empresaMB.btnLimpiarRegEmp}"/>
                    </p:panelGrid>
                </h:form>
            </p:dialog>
            
            <p:dialog header="Seleccionar Representantes" widgetVar="dlSelectPersona" modal="true" rendered="true" >
                <h:form id="formSelectPer">
                    
                    <p:commandButton id="btnBusPersonaRegEmp" value="Buscar" 
                                     actionListener="#{empresaMB.btnBusPersonaRegEmp}"/>
                    <p:inputText id="itbusper1" value="#{empresaMB.consultaPersona.nombre}" placeholder="Nombre"/>
                    <p:inputText id="itbusper2" value="#{empresaMB.consultaPersona.apellido}" placeholder="Apellido"/>
                    <p:inputText id="itbusper3" value="#{empresaMB.consultaPersona.dni}" placeholder="DNI"/>
                    <p:inputText id="itbusper4" value="#{empresaMB.consultaPersona.email}" placeholder="Email"/>
                    
                    <p:dataTable id="tabRepresEmp" var="per" value="#{empresaMB.listaPersonas}" widgetVar="findPersonas"
                                 selectionMode="single" rowKey="#{per.idpersona}" 
                                selection="#{empresaMB.personaSelected}" emptyMessage="No se encontraron Personas"
                         scrollable="true" scrollHeight="150">
                <f:facet name="header">  
             Lista de Personas
        </f:facet>
                <p:column headerText="Nombre:" >
                    <h:outputText value="#{per.nombre}" />
                </p:column>
                <p:column headerText="Apellido:">
                    <h:outputText value="#{per.apellido}" />
                </p:column>
                <p:column headerText="DNI:">
                    <h:outputText value="#{per.dni}" />
                </p:column>
                <p:column headerText="Email:">
                    <h:outputText value="#{per.email}" />
                </p:column>
            </p:dataTable>   
                    <p:commandButton id="btnAceptarPersona" value="Aceptar" icon="ui-icon-check"
                                     actionListener="#{empresaMB.btnAceptarPersona}"/>     
                </h:form>
            </p:dialog>
            
            <p:dialog header="Agregar Ubicacion" widgetVar="dlSelectUbicacion" modal="true" rendered="true" >
                <h:form id="formSelectUbi">
                    <p:panelGrid columns="2" styleClass="hideborder">
                    <p:outputLabel value="Direccion: " for="itUb1" />    
                    <p:inputText id="itUb1" value="#{empresaMB.ubicEmpAgregar.nombre}" placeholder="Direccion"/>
                    <p:outputLabel value="Numero: " for="itUb2" />
                    <p:inputText id="itUb2" value="#{empresaMB.ubicEmpAgregar.numero}" placeholder="Numero"/>
                    <p:outputLabel value="Departamento: " for="somDptoRegEmp" />
                    <p:selectOneMenu id="somDptoRegEmp" value="#{empresaMB.ubicEmpAgregar.codDept}"
                                     valueChangeListener="#{empresaMB.cargarProvincias}" >
                        <p:ajax event="valueChange" update="formSelectUbi:somProvRegEmp,formSelectUbi:somDistRegEmp"/>
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{empresaMB.listDepartamentos}" var="dpto" 
                                           itemValue="#{dpto.codDept}" itemLabel="#{dpto.departamento}"/>
                    </p:selectOneMenu>
                    <p:outputLabel value="Provincia: " for="somProvRegEmp" />
                    <p:selectOneMenu id="somProvRegEmp" value="#{empresaMB.ubicEmpAgregar.codProv}" 
                                     valueChangeListener="#{empresaMB.cargarDistritos}">
                        <p:ajax event="valueChange" update="formSelectUbi:somDistRegEmp"/>
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{empresaMB.listProvincia}" var="prov" 
                                           itemValue="#{prov.codProv}" itemLabel="#{prov.provincia}"/>
                    </p:selectOneMenu>
                    <p:outputLabel value="Distrito: " for="somDistRegEmp" />
                    <p:selectOneMenu id="somDistRegEmp" value="#{empresaMB.ubicEmpAgregar.codDist}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems value="#{empresaMB.listDistritos}" var="dist" 
                                           itemValue="#{dist.codDist}" itemLabel="#{dist.distrito}"/>
                    </p:selectOneMenu>
                     </p:panelGrid>
                    <p:messages id="msgUbicacion" showDetail="true" closable="true" />
                    <p:commandButton id="btnAceptarUbicacion" value="Aceptar" icon="ui-icon-check"
                                     actionListener="#{empresaMB.btnAceptarUbicacion}"/>     
                </h:form>
            </p:dialog>
            
            <p:dialog header="Agregar Telefono" widgetVar="dlSelectTelefono" modal="true" rendered="true" >
                <h:form id="formSelectTel">
                    <p:panelGrid columns="2" styleClass="hideborder">
                    
                    <p:outputLabel value="Operador: " for="somOpeRegEmp" />
                    <p:selectOneMenu id="somOpeRegEmp" value="#{empresaMB.telEmpAgregaDTO.operador}">
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="Claro" itemValue="Claro" />
                            <f:selectItem itemLabel="Entel" itemValue="Entel" />
                            <f:selectItem itemLabel="Movistar" itemValue="Movistar" />
                            
                    </p:selectOneMenu>
                    <p:outputLabel value="Tipo: " for="somTipRegEmp" />
                    <p:selectOneMenu id="somTipRegEmp" value="#{empresaMB.telEmpAgregaDTO.tipo}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                             <f:selectItem itemLabel="Fijo" itemValue="Fijo" />
                              <f:selectItem itemLabel="Movil" itemValue="Movil" />
                    </p:selectOneMenu>
                   <p:outputLabel value="Numero: " for="itTel1" />    
                    <p:inputText id="itTel1" value="#{empresaMB.telEmpAgregaDTO.numero}" placeholder="Ejm. 4467463"/>
                    </p:panelGrid>
                    <p:messages id="msgUbicacion" showDetail="true" closable="true" />
                    <p:commandButton id="btnAceptarUbicacion" value="Aceptar" icon="ui-icon-check"
                                     actionListener="#{empresaMB.btnAceptarTelefono}"/>     
                </h:form>
            </p:dialog>
            
            <!-- FIN DIALOG DE EMPRESAS-->
            
            <!-- INICIO DIALOG DE ALMACENES-->
            <p:dialog header="Registrar Almacen" widgetVar="registroAlmacen" minHeight="40" height="500" width="500" modal="true">
                <h:form id="formRegistrarAlmacen">
                    <h:panelGrid columns="2" id="panelRegisAlma1">
                        <p:outputLabel value="Nombre:" for="nomAlmacen"/>                            
                        <p:inputText id="nomAlmacen" value="#{almacenMB.nombre}" />
                        <p:outputLabel value="Telefono:" for="teleAlmacen"/>                            
                        <p:inputText id="teleAlmacen" value="#{almacenMB.telefono}" />
                        <p:outputLabel value="Direccion:" for="dirAlmacen"/>                            
                        <p:inputText id="dirAlmacen" value="#{almacenMB.direccion}" />
                        <p:outputLabel value="Cod. Departamento:" for="depAlmacen"/>                            
                        <p:inputText id="depAlmacen" value="#{almacenMB.cod_dept}" />
                        <p:outputLabel value="Cod. Provincia:" for="provAlmacen"/>                            
                        <p:inputText id="provAlmacen" value="#{almacenMB.cod_prov}" />
                        <p:outputLabel value="Cod. Distrito:" for="disAlmacen"/>                            
                        <p:inputText id="disAlmacen" value="#{almacenMB.cod_dist}" />
                        
                    </h:panelGrid>  
                    
                    
                </h:form>                
            </p:dialog>
                
            
            <!-- FIN DIALOG DE ALMACENES-->
            
            <!-- INICIO DIALOG DE USUARIOS-->
            <p:dialog header="Agregar Usuario" widgetVar="addUsuariosModal" modal="true" resizable="true">
                <h:form id="formAddUsuario">
                    <p:growl showDetail="true" sticky="true" id="msnRegistrar"/>
                    <p:panelGrid columns="1" styleClass="hideborder">
                        
                        <p:outputLabel value="Nombre "></p:outputLabel>
                        <p:inputText   value="#{usuarioMB.nombreNuevo}"/>
                        
                       <!--<p:outputLabel value="Clave "></p:outputLabel>
                       <p:inputText   value="#{usuarioMB.claveNuevo}"/>-->
                       
                       <p:messages id="messages" showDetail="true" autoUpdate="true" />
                       <h:outputLabel for="pwd1" value="Clave: " />
                       <p:password id="pwd1" value="#{usuarioMB.claveNuevo}" match="pwd2" label="Clave:" required="true" />
 
                       <h:outputLabel for="pwd2" value="Repetir Clave" />
                       <p:password id="pwd2" value="#{usuarioMB.claveNuevo}" label="Repetir Clave" required="true" />
                       
                        <p:outputLabel value="Rol "></p:outputLabel>
                        <p:selectOneMenu id="rolUsuario" styleClass="browser-default" value="#{usuarioMB.idrolNuevo}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems   value="#{usuarioMB.listaRolAdd}"  var="usu" 
                                             itemValue="#{usu.idrol}" itemLabel="#{usu.nombre}"/>    
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="Persona "></p:outputLabel>
                        <p:selectOneMenu id="personaUsuario" styleClass="browser-default" value="#{usuarioMB.idpersonaNuevo}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItems   value="#{usuarioMB.listaPersonaAdd}"  var="usu" 
                                             itemValue="#{usu.idpersona}" itemLabel="#{usu.nombre}"/>    
                        </p:selectOneMenu>
               
                    </p:panelGrid>
                    
                    <br/><br/>
                    <p:commandButton value="Agregar" actionListener="#{usuarioMB.addNuevoUsuario}" update="msnRegistrar"/>
                </h:form>
            </p:dialog> 
            
            <p:dialog header="Editar Usuario" widgetVar="editUsuarioModal" modal="true" resizable="false">
                <h:form id="formEditUsuario">
                    <p:growl showDetail="true" sticky="true" id="msnEditar"/>
                    <h:panelGrid columns="2">
                        
                        <p:outputLabel value="Nombre "></p:outputLabel>
                        <p:inputText   value="#{usuarioMB.nombreEdit}" disabled="false"/>
                        <p:outputLabel value="Clave "></p:outputLabel>
                        <p:inputText   value="#{usuarioMB.claveEdit}" disabled="f"/>
                        
                        <p:outputLabel value="Rol "></p:outputLabel>
                        <p:selectOneMenu id="rolUsuario" styleClass="browser-default" value="#{usuarioMB.rolesEdit}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems   value="#{usuarioMB.listaRolEdit}"  var="usu" 
                                             itemValue="#{usu.idrol}" itemLabel="#{usu.nombre}"/>    
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="Persona "></p:outputLabel>
                        <p:selectOneMenu id="personaUsuario" styleClass="browser-default" value="#{usuarioMB.personasEdit}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems   value="#{usuarioMB.listaPersonaEdit}"  var="usu" 
                                             itemValue="#{usu.idpersona}" itemLabel="#{usu.nombre}"/>    
                        </p:selectOneMenu>
                        
                    </h:panelGrid>
                    <p:commandButton value="Editar" actionListener="#{usuarioMB.editarUsuario}" update="msnEditar"/>
                </h:form>
            </p:dialog>
            <!-- FIN DIALOG DE USUARIOS-->
            
            <!-- DIALOG DE PERSONAS -->
                <p:dialog header="Agregar Persona" widgetVar="addPersona" modal="true" resizable="false">
                <h:form id="formAddPersona">
                    <p:growl showDetail="true" sticky="true" id="msnEditar"/>
                    <h:panelGrid columns="2">
                        
                        <p:outputLabel value="Nombre "></p:outputLabel>
                        <p:inputText   value="#{personasMB.nombreAdd}" disabled="false"/>
                        <p:outputLabel value="Clave "></p:outputLabel>
                        <p:inputText   value="#{personasMB.apellidoAdd}" disabled="f"/>
                        
                    </h:panelGrid>
                    <p:commandButton value="Editar" update="msnEditar"/>
                </h:form>
            </p:dialog>
            <!--FIN DIALOG DE PERSONAS-->

        </h:body>

    </f:view>
</html>

