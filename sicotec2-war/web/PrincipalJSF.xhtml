<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--
jorgeevj 15.09.15 Creacion.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>SICOTEC</title>
            </f:facet>
        </h:head>

        <h:body>

            <p:layout fullPage="true" >

                <p:layoutUnit position="north" size="142" resizable="true" closable="true" collapsible="true">
                    <img src="../imagenes/barralogotiposervacom.png" alt=""/>
                </p:layoutUnit>

                <p:layoutUnit position="west" size="175" header="SICOTEC" collapsible="true" >
                    <p:menu style=" width: 152px"> 
                        <c:forEach var="permiso" items="#{indexMB.permisos}">
                            <p:menuitem value="#{permiso.nombre}" url="#{permiso.url}" style="background-color: background"/>
                        </c:forEach>
                    </p:menu>
                </p:layoutUnit>

                <p:layoutUnit position="center">
                    <ui:insert name="body" >
                        Bienvenido a SICOTEC

                    </ui:insert> 

                </p:layoutUnit>

            </p:layout>

            <!-- DIALOG DE COTIZACIONES-->
            <p:dialog header="REGISTRAR COTIZACION" widgetVar="dlg2" modal="true" rendered="true">
                <h:panelGrid columns="4">
                    <p:outputLabel value="Ruc:" for="it2" />
                    <p:inputText id="it2" value="#{cotizacionMB.camposGuardar.idempresa.ruc}"/>
                    <p:outputLabel value="Empresa:" for="it3" />
                    <p:inputText id="it3" value="#{cotizacionMB.camposGuardar.idempresa.nombre}"/>
                    <p:outputLabel value="Empresa: "></p:outputLabel>
                    <p:selectOneMenu id="empresasPedido" styleClass="browser-default" value="#{cotizacionMB.camposGuardar.idempresa.idempresa}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems value="#{pedidoMB.sessionBeanPedido.listaEmpresaAdd}" var="emp" 
                                           itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>
                        </p:selectOneMenu>
                    <p:outputLabel for="almacenes" value="Almacen:" />
                    <p:selectOneMenu id="almacenes" styleClass="browser-default" value="#{cotizacionMB.selectAlmacen}" style="width:100%" >
                        <f:selectItem itemLabel="Seleccione" itemValue="0" />
                        <f:selectItems value="#{cotizacionMB.listaAlmacenes}" var="alm" 
                                       itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                    </p:selectOneMenu>
                </h:panelGrid>
                
                <h:panelGrid >
                <p:dataTable id="tabItemsCot" var="cot" value="#{cotizacionMB.listaCotizacion}">
                    <p:column headerText="N° Serie" width="40">
                        <h:outputText value="#{cot.serie}" />
                    </p:column>
                    <p:column headerText="Correlativo">
                        <h:outputText value="#{cot.correlativo}" />
                    </p:column>
                    <p:column headerText="Almacen">
                        <h:outputText value="#{cot.nombAlmacen}" />
                    </p:column>
                    <p:column headerText="RUC">
                        <h:outputText value="#{cot.idempresa.ruc}" />
                    </p:column>
                    <p:column headerText="Enpresa">
                        <h:outputText value="#{cot.idempresa.nombre}" />
                    </p:column>
                    <p:column headerText="Fecha de Enviado" width="110">
                        <h:outputText value="#{cot.fechaEnvio}" >
                            <f:convertDateTime pattern="MM-dd-yyyy" />
                        </h:outputText>
                    </p:column>
                    <p:column headerText="dias de Duracion">
                        <h:outputText value="#{cot.duracion}" />
                    </p:column>
                    <p:column headerText="Entrega">
                        <h:outputText value="#{cot.nombEntrega}" />
                    </p:column>
                    <p:column headerText="Estado">
                        <h:outputText value="#{cot.nombEstado}" />
                    </p:column>
                </p:dataTable>
               
            </h:panelGrid>
               <p:commandButton id="btnGuardar" value="Guardar" actionListener="#{cotizacionMB.cerrar}" />
                <p:commandButton id="btnCerrar" value="Cerrar" actionListener="#{cotizacionMB.cerrar}" />
                <p:commandButton id="btnEnviar" value="Enviar Correo" actionListener="#{cotizacionMB.cerrar}" />
                <p:commandButton id="btnAprovada" value="Aprovada" actionListener="#{cotizacionMB.cerrar}" />  
            </p:dialog> 
            <!-- FIN DIALOG DE COTIZACIONES-->


            <!-- DIALOG DE MOVIMIENTOS-->

            <!-- FIN DIALOG DE MOVIMIENTOS-->


            <!-- DIALOG DE COMPRAS-->
            <p:dialog header="Agregar Compras" widgetVar="addComprasModal" modal="true" height="300" width="500">
                <h:form id="formAddCompra">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Empresa: "></p:outputLabel>
                        <p:selectOneMenu id="empresasPedido" styleClass="browser-default" value="#{compraMB.campos.idempresa}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems   value="#{compraMB.sessionBeanCompra.listaEmpresaAdd}"  var="emp" 
                                             itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>    
                        </p:selectOneMenu>
                        <p:outputLabel value="Almacen: "></p:outputLabel>
                        <p:selectOneMenu id="almacenesCompra" styleClass="browser-default" value="#{compraMB.campos.idalmacen}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems value="#{compraMB.sessionBeanCompra.listaAlmacenesAdd}" var="alm" 
                                           itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                        </p:selectOneMenu>
                    </h:panelGrid>
                        <p:commandButton value="Agregar Compras" onclick="PF('addComprasModal').show();"/>
                        <br/><br/><br/>
                        <p:commandButton value="Agregar" />
                </h:form>
            </p:dialog> 
            <!-- FIN DIALOG DE COMPRAS-->


            <!-- DIALOG DE PEDIDOS-->
            <p:dialog header="Agregar Pedidos" widgetVar="addPedidosModal" modal="true" height="300" width="500">
                <h:form id="formAddPedido">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Empresa: "></p:outputLabel>
                        <p:selectOneMenu id="empresasPedido" styleClass="browser-default" value="#{pedidoMB.campos.idEmpresa}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems value="#{pedidoMB.sessionBeanPedido.listaEmpresaAdd}" var="emp" 
                                           itemValue="#{emp.idempresa}" itemLabel="#{emp.nombre}"/>
                        </p:selectOneMenu>
                        <p:outputLabel value="N° de Serie "></p:outputLabel>
                        <p:inputText   value="#{pedidoMB.campos.serie}"/>
                        <p:outputLabel value="Correlativo: "></p:outputLabel>
                        <p:inputText   value="#{pedidoMB.campos.correlativo}"/>
                        <p:outputLabel value="Almacen: "></p:outputLabel>
                        <p:selectOneMenu id="almacenesPedido" styleClass="browser-default" value="#{pedidoMB.campos.idalmacen}" >
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItems value="#{pedidoMB.sessionBeanPedido.listaAlmacenesAdd}" var="alm" 
                                           itemValue="#{alm.idalmacen}" itemLabel="#{alm.nombre}"/>
                        </p:selectOneMenu>
                    </h:panelGrid>
                    <p:commandButton value="Agregar Items" onclick="PF('addItemsPedidosModal').show();" update=":formAddItems:tabItemsSelected, :formAddItems:tabItemsAdd"/>
                        <br/><br/><br/>
                        <p:commandButton value="Agregar" />
                </h:form>
            </p:dialog> 
            
            <p:dialog header="Agregar Items" widgetVar="addItemsPedidosModal" modal="true" height="500" width="700"> 
                <h:form id="formAddItems">
                    <p:outputLabel value="Items Disponibles "></p:outputLabel>
                    <p:dataTable tableStyleClass="table table-hover"  id="tabItemsAdd" value="#{pedidoMB.sessionBeanPedido.listaItemsDisponibles}" var="tItemsDisp" selectionMode="single" selection="#{pedidoMB.objTipoItem}" rowKey="#{tItemsDisp.nombre}">
                        <p:column headerText="Nombre" style="text-align: center">
                            <p:outputLabel value="#{tItemsDisp.nombre}"/>
                        </p:column>
                        <p:column headerText="Tipo" style="text-align: center">
                            <p:outputLabel value="#{tItemsDisp.tipo}"/>
                        </p:column>
                        <p:column headerText="Precio Lista" style="text-align: center">
                            <p:outputLabel value="#{tItemsDisp.precioLista}"/>
                        </p:column>
                    </p:dataTable>
                    <br/>
                    <p:commandButton value="Agregar Item" actionListener="#{pedidoMB.agregarTipoItem}" update="tabItemsSelected,tabItemsAdd"/>
                    <br/><br/><br/><br/>
                    <p:outputLabel value="Items Seleccionados "></p:outputLabel>
                    <p:dataTable tableStyleClass="table table-hover"  id="tabItemsSelected" value="#{pedidoMB.sessionBeanPedido.listaItemsSeleccionado}" var="tItemsSelec" >
                        <p:column headerText="Nombre" style="text-align: center">
                            <p:outputLabel value="#{tItemsSelec.nombre}"/>
                        </p:column>
                        <p:column headerText="Tipo" style="text-align: center">
                            <p:outputLabel value="#{tItemsSelec.tipo}"/>
                        </p:column>
                        <p:column headerText="Precio Lista" style="text-align: center">
                            <p:outputLabel value="#{tItemsSelec.precioLista}"/>
                        </p:column>
                    </p:dataTable>
                    <br/>
                    <p:commandButton value="Quitar Item" actionListener="#{pedidoMB.quitarTipoItem}" update="tabItemsSelected,tabItemsAdd"/>
                    <br/><br/><br/>
                    <p:commandButton value="Aceptar" onclick="PF('addItemsPedidosModal').hide();"/>
                </h:form>
            </p:dialog>
            
            <p:dialog>
                <h:form id="formCantidadItem">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Cantidad"></p:outputLabel>
                        <p:inputText value="#{pedidoMB.campos.serie}"/>
                    </h:panelGrid>
                </h:form>
            </p:dialog>
            <!-- FIN DIALOG DE PEDIDOS-->


            <!-- DIALOG DE TIPOITEM-->
            <p:dialog header="Registrar Item" widgetVar="registrarItem" minHeight="40" height="500" width="1200">
                
                <h:form>
                    <h:panelGrid columns="2">
                        
                            <p:outputLabel value="Cod. Item:" for="codigoItem"/>                            
                            <p:inputText id="codigoItem" value="#{tipoitemMB.codigoItem}"/>
                            
                            <p:outputLabel value="Nombre Item:" for="nombreItem"/>                            
                            <p:inputText id="nombreItem" value="#{tipoitemMB.nombre}"/>
                            
                            <p:outputLabel value="Num. Parte:" for="numParteItem"/>                            
                            <p:inputText id="numParteItem" value="#{tipoitemMB.numParte}"/>
                            
                            <p:outputLabel value="Descripcion:" for="descripcionItem"/>                            
                            <p:inputText id="descripcionItem" value="#{tipoitemMB.descripcion}"/>
                            
                            <p:outputLabel value="Tipo" for="tipoItem"/>                            
                            <p:inputText id="tipoItem" value="#{tipoitemMB.tipo}"/>
                            
                            <p:outputLabel value="Precio:" for="precioItem"/>                            
                            <p:inputText id="precioItem" value="#{tipoitemMB.precio}"/>
                            
                            <p:outputLabel value="Dsco. Cliente:" for="dsctClienteItem"/>                            
                            <p:inputText id="dsctClienteItem" value="#{tipoitemMB.dsctoCliente}"/>                      
                        
                            <p:outputLabel value="Dsco. Distribuidor:" for="dsctDistribuidorItem"/>                            
                            <p:inputText id="dsctDistribuidorItem" value="#{tipoitemMB.dsctoDistribuidor}"/>
                            
                            
                        
                            <p:outputLabel value="Familia:" for="familiaItem"/>                            
                            <p:selectOneMenu id="familiaItem" styleClass="browser-default" value="#{tipoitemMB.familiaSelect}"  >
                                <f:selectItem itemLabel="Seleccione familia..." itemValue="0" />
                                <f:selectItems value="#{tipoitemMB.listaFamilia}" var="nomFamilia" 
                                               itemValue="#{nomFamilia.idfamilia}" itemLabel="#{nomFamilia.nombre}"/>
                            </p:selectOneMenu>
                            
                            <p:outputLabel value="Categoría:" for="categoriaItem"/>                            
                            <p:selectOneMenu id="categoriaItem" styleClass="browser-default" value="#{tipoitemMB.categoriaSelect}"  >
                               <f:selectItem itemLabel="Seleccione categoría..." itemValue="0" />
                               <f:selectItems value="#{tipoitemMB.listaCategoria}" var="nomCategoria" 
                                              itemValue="#{nomCategoria.idcategoria}" itemLabel="#{nomCategoria.nombre}"/>
                            </p:selectOneMenu>
                            
                            <p:outputLabel value="Marca:" for="marcaItem"/>                            
                            <p:selectOneMenu id="marcaItem" styleClass="browser-default" value="#{tipoitemMB.marcaSelect}" >
                                <f:selectItem itemLabel="Seleccione marca..." itemValue="0" />
                                <f:selectItems value="#{tipoitemMB.listaMarca}" var="nomMarca" 
                                               itemValue="#{nomMarca.idmarca}" itemLabel="#{nomMarca.nombre}"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="Color:" for="colorItem"/>                            
                            <p:selectOneMenu id="colorItem" styleClass="browser-default" value="#{tipoitemMB.colorSelect}" >
                                <f:selectItem itemLabel="Seleccione color..." itemValue="0" />
                                <f:selectItems value="#{tipoitemMB.listaColor}" var="nomColor" 
                                               itemValue="#{nomColor.idcolor}" itemLabel="#{nomColor.nombre}"/>
                            </p:selectOneMenu>
                            
                            <p:outputLabel value="Características:" for="caracteristicasItem"/>                            
                            <p:selectOneMenu id="caracteristicasItem" styleClass="browser-default" value="#{tipoitemMB.caracteristicaSelect}" >
                                <f:selectItem itemLabel="Seleccione característica..." itemValue="0" />
                                <f:selectItems value="#{tipoitemMB.listaCaracteristicas}" var="nomCaracteristica" 
                                               itemValue="#{nomCaracteristica.idcaracteristica}" itemLabel="#{nomCaracteristica.nombre}"/>
                            </p:selectOneMenu>
                            
                            <p:commandButton value="Agregar" actionListener="#{tipoitemMB.listarTablaCaracteristicas}" update="tabla2"/> 
                            
                            <p:dataTable id="tabla2" value="#{tipoitemMB.lista2}" var="tite"> 
                                <p:column headerText="Características">
                                    <h:outputText value="#{tite.nombre}" />
                                </p:column>                            
                            </p:dataTable>
                    
                            <p:commandButton value="Quitar" update="tabla2"/>
                       
                            <p:commandButton value="Crear una nueva característica" type="button" onclick="PF('crearCaraItem').show();"/>
                            <p:commandButton value="Crear una nueva marca" type="button" onclick="PF('crearMarcaItem').show();" />
                            
                            <p:commandButton  value="Registrar nuevo Item" actionListener="#{tipoitemMB.registrarNuevoTipoItem}"/>
                            </h:panelGrid>
                </h:form>
                  
                <!-- CREAR NUEVA CARACTERISTICA -->
            </p:dialog>

            <p:dialog header="Crear Característica" widgetVar="crearCaraItem" minHeight="40" height="100" width="700">
                <h:form>
                    <h:panelGrid columns="2">
                            <p:outputLabel value="Característica:" for="crearCaracItem"/>
                            
                            <p:inputText id="crearCaracItem"/>                            
                                         
                            <p:commandButton  value="Crear"/>
                    </h:panelGrid>
                </h:form>
                        
            </p:dialog>

                <!-- CREAR NUEVA MARCA -->
            <p:dialog header="Crear Marca" widgetVar="crearMarcaItem" minHeight="40" height="300" width="420">
                <h:form>
                    <h:panelGrid columns="2">
                            <p:outputLabel value="Nombre:" for="nomCrearMarcaItem"/>
                            
                            <p:inputText id="nomCrearMarcaItem" style="width: 70%"></p:inputText>
                            
                            <p:outputLabel value="Imagen:" for="imagenCrearMarcaItem"/>
                            
                            <p:graphicImage id="imagenCrearMarcaItem" value="X" />                    
                            
                            <p:inputText id="nombreImagenCrearMarcaItem" style="width: 40%"></p:inputText>
                            <p:commandButton  value="Examinar"/>
                            
                            <p:outputLabel value="Formato:" for="formatoCrearMarcaItem"/>
                            
                            <p:selectOneMenu id="formatoCrearMarcaItem" styleClass="browser-default" value="" style="width:60%" >
                                <f:selectItem itemLabel="Seleccione formato..." itemValue="0" />
                                <f:selectItems value="" var="formato" 
                                               itemValue="" itemLabel=""/>
                            </p:selectOneMenu>
                                                 
                            <p:commandButton  value="Crear Marca"/>
                    </h:panelGrid> 
                </h:form>
            </p:dialog>
            
            <!-- MODIFICAR TIPOITEM -->

            

            <!-- FIN DIALOG DE TIPOITEM-->

        </h:body>

    </f:view>
</html>

