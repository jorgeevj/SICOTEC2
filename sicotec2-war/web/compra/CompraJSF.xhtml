<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../PrincipalJSF.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="body">

        <p:panel id="p1" header="Gestion de Ordenes de Compra" style="margin-bottom:20px">
            <h:form id="formCompra">
                <h:panelGrid columns="1">
                    <p:outputLabel value="Empresa:" for="it1" />
                    <p:inputText id="it1" value="#{compraMB.campos.idempresa.nombre}"/>
                    <p:outputLabel value="N Serie:" for="it2" />
                    <p:inputText id="it2" value="#{compraMB.campos.serie}"/>
                    
                </h:panelGrid>
                <p:commandButton value="Consultar" id="btnConsultar"  title="Consultar" 
                                 actionListener="#{compraMB.consultar}" update="tabCompra"/>
                <p:commandButton value="Agregar" actionListener="#{compraMB.crear}" id="btnAgregar" title="Agregar" />
                <p:commandButton value="Editar"  id="btnEditar" title="Editar" />         
            </h:form>


           <h:panelGrid >
            <p:dataTable id="tabCompra"  value="#{compraMB.sessionBeanCompra.listaTCompra}" var="tComp">
                
                <p:column headerText="ID">
                    <p:outputLabel value="#{tComp.idcompra}"/>
                </p:column>
                <p:column headerText="Fecha">
                    <p:outputLabel value="#{tComp.fecha}">
                        <f:convertDateTime pattern="dd/MM/yyyy" />
                    </p:outputLabel>
                </p:column>
                <p:column headerText="Total">
                    S/.
                    <h:outputText value="#{tComp.total}" />
                </p:column>
                <p:column headerText="NÂ°Serie">
                    <h:outputText value="#{tComp.serie}" />
                </p:column>
                <p:column headerText="Correlativo">
                    <h:outputText value="#{tComp.correlativo}" />
                    </p:column>
                <p:column headerText="Empresa">
                    <h:outputText value="#{tComp.idempresa.nombre}" />
                    </p:column>
                <p:column headerText="Ruc">
                    <h:outputText value="#{tComp.idempresa.ruc}" />
                    </p:column>
                 <p:column headerText="Estado">
                     <h:outputText value="#{tComp.estado}" />
                    </p:column>
              
                </p:dataTable>
            </h:panelGrid>

            
        </p:panel> 
    </ui:define>  
</ui:composition>

